# SauceDemo Test Automation Suite

A comprehensive regression testing suite for the SauceDemo e-commerce application using Python, Playwright, and pytest. This project implements the Page Object Model (POM) design pattern to create maintainable and scalable automated tests.

## Project Overview

This test automation framework covers critical user flows on [SauceDemo](https://www.saucedemo.com):

- **Authentication**: Login/logout functionality and session management
- **Shopping Cart**: Adding/removing items, cart state management
- **Checkout Process**: Complete order placement flow with validation
- **UI Elements**: Navigation, menus, and interface components

## Technology Stack

- **Python 3.10+** - Programming language
- **Playwright** - Web automation framework
- **pytest** - Testing framework
- **Page Object Model** - Design pattern for maintainable tests
- **Fixture-based Architecture** - Shared setup and teardown logic

## Project Structure

```
interview_project/
├── pages/                          # Page Object Model classes
│   ├── base_page.py               # Base page with common functionality
│   ├── login_page.py              # Login page interactions
│   ├── inventory_page.py          # Product inventory page
│   ├── cart_page.py               # Shopping cart page
│   ├── checkout_page.py           # Checkout form page
│   └── checkout_complete_page.py  # Order confirmation page
├── tests/                          # Test modules
│   ├── test_authentication.py     # Login/logout tests
│   ├── test_shopping_cart.py      # Cart functionality tests
│   ├── test_checkout.py           # Checkout process tests
│   └── test_ui_elements.py        # UI component tests
├── conftest.py                     # Shared pytest fixtures
├── pytest.ini                     # Pytest configuration
├── requirements.txt                # Python dependencies
└── README.md                       # This file
```

## Quick Start

### Prerequisites
- Python 3.10 or higher
- Git
- macOS/Linux/Windows supported
- Node.js NOT required (Playwright Python handles browser binaries)

### Installation & Setup

1. **Clone and navigate to the project:**
   ```bash
   git clone https://github.com/cosminp26/interview_repo.git
   cd interview_project
   ```

2. **Create and activate virtual environment:**
   ```bash
   python -m venv .venv
   source .venv/bin/activate    # Windows: .venv\Scripts\activate
   ```

3. **Install dependencies:**
   ```bash
   pip install -r requirements.txt
   ```

4. **Install Playwright browsers:**
   ```bash
   playwright install
   ```

5. **Set up environment variables (optional):**
   ```bash
   cp .env.example .env
   # Edit .env file with your preferred settings
   ```

## Running Tests

### Run All Tests
```bash
pytest
```

### Run Specific Test Modules
```bash
pytest tests/test_authentication.py
pytest tests/test_shopping_cart.py
pytest tests/test_checkout.py
pytest tests/test_ui_elements.py
```

### Run Tests with Different Options
```bash
# Run with verbose output
pytest -v

# Run in headful mode (see browser)
HEADLESS=false pytest

# Run with different browser
BROWSER=firefox pytest

# Run specific test
pytest tests/test_checkout.py::TestCheckoutProcess::test_checkout_single_item_success

# Generate report only (reports are auto-generated by default)
pytest --html=reports/custom_report.html --self-contained-html
```

## Test Reporting

This project automatically generates comprehensive HTML test reports after each test run.

### Automatic Report Generation
- **Location**: `reports/report.html`
- **Format**: Self-contained HTML file (includes all CSS/JS)
- **Generated**: Automatically after every test run
- **Contents**: 
  - Test execution summary (passed/failed/skipped counts)
  - Individual test results with status
  - Execution time for each test
  - Detailed error information for failed tests
  - Browser and environment information

### Viewing Reports
```bash
# After running tests, open the report
open reports/report.html        # macOS
start reports/report.html       # Windows  
xdg-open reports/report.html    # Linux
```

### Report Features
- **Interactive**: Click to expand/collapse test details
- **Filterable**: Show only passed, failed, or skipped tests
- **Sortable**: Sort by test name, duration, or result
- **Portable**: Single HTML file can be shared or archived
- **Rich Details**: Stack traces, assertion errors, and test metadata

## Architecture & Design Patterns

### Page Object Model (POM)
Each page class encapsulates:
- **Selectors**: Centralized element locators as class constants
- **Actions**: Methods for interacting with page elements
- **Verifications**: Methods for checking page state

```python
class InventoryPage(BasePage):
    # Selectors
    ADD_TO_CART_BUTTON = "button:has-text('Add to cart')"
    SHOPPING_CART_BADGE = ".shopping_cart_badge"
    
    # Actions
    def add_item_by_name(self, name):
        # Implementation here
    
    # Verifications
    def cart_badge_count(self):
        # Implementation here
```

### Fixture-Based Setup
- **Shared Fixtures**: Common page objects and setup logic in `conftest.py`
- **Cleanup Fixtures**: Automatic test state reset using teardown fixtures
- **Selective Cleanup**: Different levels of cleanup based on test needs

## Test Categories

### Authentication Tests (`test_authentication.py`)
- Successful login with valid credentials
- Error handling for invalid credentials  
- Session management and logout functionality

### Shopping Cart Tests (`test_shopping_cart.py`)
- Adding single and multiple items
- Removing items from cart and inventory
- Cart badge count accuracy
- Cart state persistence

### Checkout Tests (`test_checkout.py`)
- Complete order flow with single/multiple items
- Price calculation verification
- Form validation (empty fields, missing data)
- Order confirmation

### UI Elements Tests (`test_ui_elements.py`)
- Cart badge visibility
- Navigation menu functionality
- Page state management

## Configuration

### Environment Variables
Create a `.env` file to customize test execution:

```env
BASE_URL=https://www.saucedemo.com
USERNAME=standard_user  
PASSWORD=secret_sauce
BROWSER=chromium        # chromium, firefox, webkit
HEADLESS=true          # true/false
```

### pytest Configuration
The `pytest.ini` file configures:
- Test discovery patterns
- Default test directory
- Pytest plugins

## Key Features

### Robust Test Design
- **Automatic Cleanup**: Tests clean up after themselves using fixtures
- **State Management**: Proper handling of cart state between tests  
- **Error Handling**: Graceful failure handling with detailed error messages
- **Parameterized Tests**: Data-driven testing for comprehensive validation

### Maintainable Code
- **Centralized Selectors**: All element locators in page classes
- **DRY Principle**: Shared fixtures eliminate code duplication
- **Clear Separation**: Business logic separated from test logic
- **Extensible Design**: Easy to add new pages and tests

### CI/CD Ready
- **Headless Execution**: Runs in CI environments
- **Cross-browser Support**: Chromium, Firefox, WebKit
- **Detailed Reporting**: Clear test results and failure information
- **Environment Flexibility**: Configurable via environment variables

## Contributing

1. Follow the existing code structure and naming conventions
2. Add new page objects for new pages
3. Use appropriate cleanup fixtures for tests
4. Include meaningful assertion messages
5. Keep selectors centralized in page classes

## Notes

- Tests are designed to run independently and can be executed in any order
- The framework automatically handles browser lifecycle management
- Page objects include both actions and verifications for complete encapsulation
- Fixtures provide different levels of cleanup based on test requirements